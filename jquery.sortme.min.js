!function(t){var r='\u25bc',e='\u25b2',o={sortElementSelector:"tbody tr"},n=function(t,r,e,o){for(e=3;e--;t[e]=0>o?0:o>255?255:0|o)o=t[e]+r;return t},a=function(t){return t.replace("r","").replace("g","").replace("b","").replace("a","").replace("(","").replace(")","")},c=function(t,r){var e=t.css("background-color");e=JSON.parse("["+a(e)+"]");var o=n(e,r);t.css("background-color","rgb("+o.toString()+")")},s=function(t){var r=!0;return t.forEach(function(t){isNaN(parseFloat(t))&&(r=!1)}),r},l=function(t){var r=!0;return t.forEach(function(t){var e=new Date(t);"[object Date]"===Object.prototype.toString.call(e)?isNaN(e.getTime())&&(r=!1):r=!1}),r},i=function(t,o){t.addClass("sort-me-col"),width=parseFloat(t.css("width").replace("px","")),t.css("width",width+14),t.html(t.html()+'<span class="sort-me-arrow" style="float:right" data-js-sortdesc="'+o+'">'+(o?r:e)+"</span>"),c(t,-10)},d=function(r){var e,n=t(r.currentTarget),a=n.closest("table"),d=a.find("thead tr th.sort-me-col"),f=!0;if(d.length){a.find("tbody tr td.sort-me-val").toArray().forEach(function(r){var e=t(r);e.removeClass("sort-me-val"),c(e,10)}),e=parseFloat(d.css("width").replace("px","")),d.css("width",e-14);var u=d.find(".sort-me-arrow"),v=u.data("jsSortdesc");if(u.remove(),c(d,10),d.get(0)==n.get(0)&&v)f=!1;else if(d.removeClass("sort-me-col"),!v)return}var h=n.index(),m=a.find(o.sortElementSelector).toArray(),p=!1,b=m.map(function(r){var e=t(r).find("td")[h];return e?e.innerText:(p=!0,null)});if(p)return void console.log("jquery.sortme unable to sort table probably due to a td with a colspan");i(n,f),l(b)?b=b.map(function(t){return new Date(t)}):s(b)&&(b=b.map(function(t){return parseFloat(t)}));var g=0,y=[];b.forEach(function(t){y.push({ind:g,val:t}),g++}),y.sort(function(t,r){return t.val>r.val?f?-1:1:t.val<r.val?f?1:-1:0}),a.find(o.sortElementSelector).remove();var w=-1==o.sortElementSelector.indexOf("tbody")?a.find("tbody"):a;y.forEach(function(t){w.append(m[t.ind])}),w.find("tr td:nth-child("+(h+1)+")").toArray().forEach(function(r){var e=t(r);e.addClass("sort-me-val"),c(e,-10)})},f=function(r,e){if(o.serverSortedColumn){var n=t(e).find(o.serverSortedColumn);if(n.length){var a=n.index(),s=n.closest("table"),l=s.find("tbody tr td:nth-child("+(a+1)+")").toArray();i(n,!o.serverSortedAsc),l.forEach(function(r){var e=t(r);e.addClass("sort-me-val"),c(e,-10)})}}t(e).find("th").on("click",function(t){d(t)})};t.fn.sortme=function(r){return t.extend(o,r),this.each(f),this}}(jQuery);